<!DOCTYPE html>
<html>

<head>

    <title>集贤装-运维-创建用户</title>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon" />
    <script src="https://lib.sinaapp.com/js/jquery/1.9.0/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="./jquery-easyui/themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="./jquery-easyui/themes/icon.css">
    <script type="text/javascript" src="./jquery-easyui/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="./jquery-easyui/locale/easyui-lang-zh_CN.js"></script>
    <script type="text/javascript" src="./jquery-viewer/js/viewer.min.js"></script>
    <link rel="stylesheet" href="./jquery-viewer/css/viewer.min.css">
    <script src="./jquery-viewer/js/viewer-jquery.min.js"></script>
    <script src="./layer/layer.js"></script>
    <script src="./js/util.js"></script>
    <script src="./js/project.js"></script>
    <link rel="stylesheet" href="./css/project.css">
    <script src="./js/moment.js"></script>
    <style></style>
</head>

<script>
    var config = null;
    $.ajax({
        url:'../config.json',
        async:false,
        success:function(res){
            config=res;
        }
    })

     layer.config({offset: '200px'});
    $.ajaxPrefilter( function( options, originalOptions, jqXHR ) {
        $('#doingTag').show();
    });
    $.ajaxSetup({
        complete:function(){
            $('#doingTag').hide();
        },
        error:function(xhr){
            debugger
            
        }
    })

    var qso = util.queryStringObject();
    var item = {}

    $.parser.onComplete = function () {
        debugger
    }

    $(document).ready(function(){
        debugger
       
    })
    function insertItem(){
        debugger
        $.messager.confirm('提示','确认创建吗?',function(){
            $.ajax({
                    type: 'post',
                    url: '/wuliu/maintain/user-manage/user-insert',
                    data: item,
                    success: function (res) {
                        debugger
                        if (res.codeMsg)
                            $.messager.alert('提示',res.codeMsg)
                        if (res.code == 0) {
                            if (!res.codeMsg)
                            $.messager.alert('提示','创建成功',null,function(){
                                        location.reload()
                                    })
                        } 
                    }
                })
        })
        
    }
</script>

<body style="margin:0;padding:0;">
        <table id="datagrid"  data-options="singleSelect:true, footer: '#datagridFoot',title:'创建订单'">
            <thead>
                <tr>
                    <th data-options="field:'name',width:200,align:'right'">属性&nbsp;</th>
                    <th data-options="field:'value',width:500">值</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>昵称&nbsp;</td>
                    <td><input id="nickname" class="easyui-textbox" style="width:100%" data-options="
                        value:item.nickname,
                        iconWidth:20,
                        icons:[{
                            iconCls:'icon-clear',
                            handler: function(e){
                                debugger
                                $(e.data.target).textbox('setValue','');
                            }
                        }],
                        onChange:function(newValue, oldValue){
                            item.nickname=newValue
                        }" style="width:200px"></td>
                </tr>
                <tr>
                    <td>账号&nbsp;</td>
                    <td><input id="account" class="easyui-textbox" style="width:100%" data-options="
                        value:item.account,
                        iconWidth:20,
                        icons:[{
                            iconCls:'icon-clear',
                            handler: function(e){
                                debugger
                                $(e.data.target).textbox('setValue','');
                            }
                        }],
                        onChange:function(newValue, oldValue){
                            item.account=newValue
                        }" style="width:200px"></td>
                </tr>
                <tr>
                    <td>手机&nbsp;</td>
                    <td><input id="phone" class="easyui-textbox" style="width:100%" data-options="
                        value:item.phone,
                        iconWidth:20,
                        icons:[{
                            iconCls:'icon-clear',
                            handler: function(e){
                                debugger
                                $(e.data.target).textbox('setValue','');
                            }
                        }],
                        onChange:function(newValue, oldValue){
                            item.phone=newValue
                        }" style="width:200px"></td>
                </tr>
                <tr>
                    <td>密码&nbsp;</td>
                    <td><input id="password" class="easyui-passwordbox" style="width:100%" data-options="
                        value:item.password,
                        iconWidth:20,
                        icons:[{
                            iconCls:'icon-clear',
                            handler: function(e){
                                debugger
                                $(e.data.target).textbox('setValue','');
                            }
                        }],
                        onChange:function(newValue, oldValue){
                            item.password=newValue
                        }" style="width:200px"></td>
                </tr>
                <tr>
                    <td>密码确认&nbsp;</td>
                    <td><input id="passwordConfirm" class="easyui-passwordbox" style="width:100%" data-options="
                        value:item.passwordConfirm,
                        iconWidth:20,
                        icons:[{
                            iconCls:'icon-clear',
                            handler: function(e){
                                debugger
                                $(e.data.target).textbox('setValue','');
                            }
                        }],
                        onChange:function(newValue, oldValue){
                            item.passwordConfirm=newValue
                        }" style="width:200px"></td>
                </tr>
                <tr>
                    <td>真实姓名&nbsp;</td>
                    <td><input id="realname" class="easyui-textbox" style="width:100%" data-options="
                        value:item.realname,
                        iconWidth:20,
                        icons:[{
                            iconCls:'icon-clear',
                            handler: function(e){
                                debugger
                                $(e.data.target).textbox('setValue','');
                            }
                        }],
                        onChange:function(newValue, oldValue){
                            item.realname=newValue
                        }" style="width:200px"></td>
                </tr>
                <tr>
                    <td>管理员&nbsp;</td>
                    <td><input id="adminIs" class="easyui-combobox" style="width:100%" data-options="
                                    value:item.adminIs,
                                    editable:false,panelHeight:'auto',
                                    data:[ {
                                        text: '否',
                                        value: '0'
                                    },{
                                         text: '是',
                                         value: '1'
                                     }],
                                     iconWidth:20,
                                     icons:[{
                                         iconCls:'icon-clear',
                                         handler: function(e){
                                             $(e.data.target).combobox('setValue','');
                                         }
                                     }],
                                     onChange:function(newValue, oldValue){
                                        item.adminIs=newValue
                                     }" /></td>
                </tr>
                <tr>
                    <td>运维&nbsp;</td>
                    <td><input id="maintainIs" class="easyui-combobox" style="width:100%" data-options="
                                    value:item.maintainIs,
                                    editable:false,panelHeight:'auto',
                                    data:[ {
                                        text: '否',
                                        value: '0'
                                    },{
                                         text: '是',
                                         value: '1'
                                     }],
                                     iconWidth:20,
                                     icons:[{
                                         iconCls:'icon-clear',
                                         handler: function(e){
                                             $(e.data.target).combobox('setValue','');
                                         }
                                     }],
                                     onChange:function(newValue, oldValue){
                                        item.maintainIs=newValue
                                     }" /></td>
                </tr>
            </tbody>
        </table>
        
        <div id="datagridFoot" style="padding:2px 5px;">
            <a id="createConfirm" href="JavaScript:void(0)" class="easyui-linkbutton" iconCls="icon-ok"  plain="true" title="确认"
                onclick="insertItem()">确认</a>
            <a id="reset" href="JavaScript:void(0)" class="easyui-linkbutton" iconCls="icon-reload"  plain="true" title="重置"
                onclick="$.messager.confirm('提示','已编辑的数据将丢失, 确认继续吗?',function(r){if(r) location.reload()})">重置</a>
        </div>
</body>
<script>
        $('#datagrid').datagrid()
</script>

</html>